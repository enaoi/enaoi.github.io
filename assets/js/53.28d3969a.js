(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{411:function(t,e,v){"use strict";v.r(e);var _=v(25),i=Object(_.a)({},(function(){var t=this,e=t.$createElement,v=t._self._c||e;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("h1",{attrs:{id:"基础"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#基础"}},[t._v("#")]),t._v(" 基础")]),t._v(" "),v("h2",{attrs:{id:"koa-router"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#koa-router"}},[t._v("#")]),t._v(" "),v("code",[t._v("koa-router")])]),t._v(" "),v("ol",[v("li",[t._v("基本使用 "),v("code",[t._v("Router.routes()")]),t._v(" "),v("code",[t._v("Router<verb>")])]),t._v(" "),v("li",[t._v("嵌套路由 "),v("code",[t._v("routeInstance.use(url, otherInstance.routes(),otherInstance.allowedMethods())")])]),t._v(" "),v("li",[t._v("路由前缀 "),v("code",[t._v('Router({prefix:""})')])]),t._v(" "),v("li",[t._v("路由参数 "),v("code",[t._v("ctx.params")])]),t._v(" "),v("li",[t._v("middleware "),v("code",[t._v("router.use(session())")])]),t._v(" "),v("li",[t._v("路由跳转 "),v("code",[t._v("router.redirect('/login', 'sign-in')")])]),t._v(" "),v("li",[t._v("生成url "),v("code",[t._v("router.url(name, params, query)")])])]),t._v(" "),v("h2",{attrs:{id:"context-具体方法和访问器"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#context-具体方法和访问器"}},[t._v("#")]),t._v(" context 具体方法和访问器")]),t._v(" "),v("ol",[v("li",[v("code",[t._v("ctx.req/res")]),t._v(" Node的对象")]),t._v(" "),v("li",[v("code",[t._v("ctx.request")]),t._v(" "),v("ul",[v("li",[t._v("ctx.header")]),t._v(" "),v("li",[t._v("ctx.headers")]),t._v(" "),v("li",[t._v("ctx.method")]),t._v(" "),v("li",[t._v("ctx.url")]),t._v(" "),v("li",[t._v("ctx.originalUrl")]),t._v(" "),v("li",[t._v("ctx.origin 包括 protocol, host")]),t._v(" "),v("li",[t._v("ctx.href  包括 protocol, host, query")]),t._v(" "),v("li",[t._v("ctx.path")]),t._v(" "),v("li",[t._v("ctx.query")]),t._v(" "),v("li",[t._v("ctx.queryString")]),t._v(" "),v("li",[t._v("ctx.host")]),t._v(" "),v("li",[t._v("ctx.fresh 检查请求缓存是否“新鲜”，也就是内容没有改变。此方法用于 If-None-Match / ETag, 和 If-Modified-Since 和 Last-Modified 之间的缓存协商。 在设置一个或多个这些响应头后应该引用它。")]),t._v(" "),v("li",[t._v("ctx.stale  与 request.fresh 相反")]),t._v(" "),v("li",[t._v('ctx.secure   通过 ctx.protocol == "https" 来检查请求是否通过 TLS 发出。')]),t._v(" "),v("li",[t._v("ctx.socket")]),t._v(" "),v("li",[t._v("ctx.protocol")]),t._v(" "),v("li",[t._v("ctx.ip")]),t._v(" "),v("li",[t._v("ctx.get(filed)   返回请求头，field不区分大小写")]),t._v(" "),v("li",[t._v("ctx.is(types)   检查传入请求是否包含 Content-Type 消息头字段， 并且包含任意的 mime type。 如果没有请求主体，返回 null。 如果没有内容类型，或者匹配失败，则返回 false。 反之则返回匹配的 content-type。\n内容协商")]),t._v(" "),v("li",[t._v("ctx.accepts(types)")]),t._v(" "),v("li",[t._v("ctx.acceptsEncodings(types)")]),t._v(" "),v("li",[t._v("ctx.acceptsCharsets(charsets)")]),t._v(" "),v("li",[t._v("ctx.acceptsLanguages(langs)")])])]),t._v(" "),v("li",[t._v("ctx.response\n"),v("ul",[v("li",[t._v("ctx.body")]),t._v(" "),v("li",[t._v("ctx.status")]),t._v(" "),v("li",[t._v("ctx.message")]),t._v(" "),v("li",[t._v("ctx.length")]),t._v(" "),v("li",[t._v("ctx.type")]),t._v(" "),v("li",[t._v("ctx.headerSend")]),t._v(" "),v("li",[t._v("ctx.redirect()")]),t._v(" "),v("li",[t._v("ctx.set()")]),t._v(" "),v("li",[t._v("ctx.append()")]),t._v(" "),v("li",[t._v("ctx.remove()")]),t._v(" "),v("li",[t._v("ctx.lastModified")]),t._v(" "),v("li",[t._v("ctx.etag")])])]),t._v(" "),v("li",[t._v("ctx.state")]),t._v(" "),v("li",[t._v("ctx.app\n"),v("ol",[v("li",[t._v("ctx.app.emit")])])]),t._v(" "),v("li",[t._v("ctx.cookies\n"),v("ol",[v("li",[t._v("ctx.cookies.get(name,[options])")]),t._v(" "),v("li",[t._v("ctx.cookies.set(name,value,[options]\noptions 的参数\n"),v("ul",[v("li",[t._v("maxAge")]),t._v(" "),v("li",[t._v("signed")]),t._v(" "),v("li",[t._v("expires")]),t._v(" "),v("li",[t._v("path")]),t._v(" "),v("li",[t._v("domain")]),t._v(" "),v("li",[t._v("secure")]),t._v(" "),v("li",[t._v("httpOnly：true")]),t._v(" "),v("li",[t._v("overwrite")])])])])]),t._v(" "),v("li",[t._v("ctx.throw(status,msg) 基于 http-errors")]),t._v(" "),v("li",[t._v("ctx.assert(value,status,msg,properties)")])]),t._v(" "),v("h2",{attrs:{id:"http请求"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#http请求"}},[t._v("#")]),t._v(" http请求")]),t._v(" "),v("p",[t._v("request主体内容的处理使用中间件 "),v("code",[t._v("koa-bodyparser")]),t._v(" 支持 json、form 、text 的body 格式")]),t._v(" "),v("h2",{attrs:{id:"静态资源处理"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#静态资源处理"}},[t._v("#")]),t._v(" 静态资源处理")]),t._v(" "),v("ul",[v("li",[t._v("中间件 "),v("code",[t._v("koa-static")])]),t._v(" "),v("li",[t._v("原生实现：文件夹的便利，文件内容的读取操作等")])]),t._v(" "),v("h2",{attrs:{id:"文件上传"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#文件上传"}},[t._v("#")]),t._v(" 文件上传")]),t._v(" "),v("ul",[v("li",[t._v("基础实现")]),t._v(" "),v("li",[t._v("断点续传")]),t._v(" "),v("li",[t._v("分片上传")])]),t._v(" "),v("h2",{attrs:{id:"记录日志"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#记录日志"}},[t._v("#")]),t._v(" 记录日志")]),t._v(" "),v("ul",[v("li",[t._v("log4js  log日志中间件")])])])}),[],!1,null,null,null);e.default=i.exports}}]);