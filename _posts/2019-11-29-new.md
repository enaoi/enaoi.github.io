---
title: new æ“ä½œç¬¦
date: 2019-11-29 14:58:45
categories:
- javascript
tags:
- javascript
- javascript_basic
---
newæ“ä½œç¬¦çš„ä¸€ä¸ªé‡ç‚¹å°±æ˜¯æ‰§è¡Œç»“æœå¦‚æœå¼ä¸ä¸ºç©ºçš„å¯¹è±¡ï¼Œé‚£ä¹ˆè¿”å›çš„æ˜¯è¿™ä¸ªç»“æœï¼Œè€Œä¸æ˜¯å®ä¾‹ã€‚

1. åˆ›å»ºä¸€ä¸ªæ–°çš„ç©ºå¯¹è±¡ã€‚
2. æ–°å¯¹è±¡çš„ `__proto__` æŒ‡å‘æ„é€ å‡½æ•°çš„ `prototype`  å±æ€§ã€‚
3. å°†1åˆ›å»ºçš„æ–°å¯¹åƒåšä¸ºthisçš„ä¸Šä¸‹æ–‡,å¹¶ä¸”æ‰§è¡Œã€‚
4. ğŸ¯å¦‚æœæ‰§è¡Œç»“æœæ˜¯ä¸ªå¯¹è±¡ï¼Œä¸”ä¸ä¸ºnullï¼Œé‚£ä¹ˆè¿”å›è¿™ä¸ªè¿”å›å€¼ï¼Œå¦‚æœä¸æ˜¯åˆ™è¿”å›è¿™ä¸ªæ–°å»ºçš„å¯¹è±¡ã€‚

æ ¹æ®ğŸ‘†çš„æè¿°å¯ä»¥å†™å‡ºä¸‹é¢çš„æ–¹æ¡ˆï¼š

```javascript
function ObjectFactory() {
  var newObj = {}
  var fn = [].shift.apply(arguments)

  newObj.__proto__ = fn.prototype
  var result = fn.apply(newObj, arguments)
  if (typeof result === 'object' && result !== null) {
    return result
  }
  return newObj
}
```
