(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{391:function(t,s,a){"use strict";a.r(s);var n=a(25),r=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"你不知道的javascript"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#你不知道的javascript"}},[t._v("#")]),t._v(" 你不知道的JAVASCRIPT")]),t._v(" "),a("h2",{attrs:{id:"scope"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#scope"}},[t._v("#")]),t._v(" scope")]),t._v(" "),a("h3",{attrs:{id:"第一章：作用域"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第一章：作用域"}},[t._v("#")]),t._v(" 第一章：作用域")]),t._v(" "),a("blockquote",[a("p",[t._v("一套用来存储和访问变量的规则，称为"),a("strong",[t._v("作用域")])])]),t._v(" "),a("p",[t._v("当一个块或函数嵌套在另一个块或者函数中时，就发生了作用域嵌套。在当前作用域中无法找到某个变量时，引擎就会在外层嵌套的作用域中继续查找，直到找到该变量，或抵达最外层的作用域为止。")]),t._v(" "),a("p",[a("img",{attrs:{src:"/youdonnotknowaboutjs/01.png",alt:"作用域"}})]),t._v(" "),a("h3",{attrs:{id:"第二章：词法作用域"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第二章：词法作用域"}},[t._v("#")]),t._v(" 第二章：词法作用域")]),t._v(" "),a("p",[t._v("作用域工作模型常见有2种：")]),t._v(" "),a("ul",[a("li",[t._v("动态作用域：Bash/Perl")]),t._v(" "),a("li",[t._v("词法作用域：JavaScript")])]),t._v(" "),a("hr"),t._v(" "),a("blockquote",[a("p",[t._v("定义在词法阶段的作用域叫做"),a("strong",[t._v("词法作用域")])])]),t._v(" "),a("p",[a("img",{attrs:{src:"/youdonnotknowaboutjs/02.png",alt:"词法作用域"}})]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("JavaScript 存在2种欺骗词法作用域的机制：")]),t._v(" "),a("ul",[a("li",[t._v("eval：动态执行字符串语句")]),t._v(" "),a("li",[t._v("with：改变当前块的作用域")])]),t._v(" "),a("h3",{attrs:{id:"第三章：函数作用域和块作用域"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第三章：函数作用域和块作用域"}},[t._v("#")]),t._v(" 第三章：函数作用域和块作用域")]),t._v(" "),a("p",[a("img",{attrs:{src:"/youdonnotknowaboutjs/03.png",alt:"函数作用域和块作用域"}})]),t._v(" "),a("h3",{attrs:{id:"第四章：提升"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第四章：提升"}},[t._v("#")]),t._v(" 第四章：提升")]),t._v(" "),a("p",[t._v("声明在编译阶段进行，赋值留在原地等待执行阶段，看起来声明被提升了。")]),t._v(" "),a("p",[a("strong",[t._v("每个作用域都会进行提升操作。")])]),t._v(" "),a("p",[a("strong",[t._v("具名的函数表达式名称标识符在赋值之前无法在所在函数作用域中使用。")])]),t._v(" "),a("details",{staticClass:"custom-block details"},[a("summary",[t._v("例子")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("foo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//TypeError")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ReferenceError")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("foo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("提升后理解为：")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" foo\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("foo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("foo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" bar "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...self...")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),a("p",[a("strong",[t._v("函数优先：函数声明和变量声明都会被提升，但函数会首先被提升，然后才是变量。")])]),t._v(" "),a("h3",{attrs:{id:"第五章：作用域闭包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第五章：作用域闭包"}},[t._v("#")]),t._v(" 第五章：作用域闭包")]),t._v(" "),a("blockquote",[a("p",[t._v("当函数可以记住并访问所在的词法作用域时，就产生了闭包。")])]),t._v(" "),a("details",{staticClass:"custom-block details"},[a("summary",[t._v("闭包形成的解析")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("foo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" bar\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" baz "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("foo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("baz")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2")]),t._v("\n")])])]),a("ul",[a("li",[t._v("在函数foo执行后，一般会期待引擎的垃圾回收机制将函数foo整个内部作用域都被销毁，来释放内存。")]),t._v(" "),a("li",[t._v("而闭包保持着对这个函数内部作用域的引用，而这个引用就叫做闭包。")])])]),t._v(" "),a("p",[t._v("无论已何种手段，将内部函数传递到所在词法作用域以外的地方，它都会持有对原始定义作用域的引用。无论在何处执行这个函数都会使用闭包。")]),t._v(" "),a("h4",{attrs:{id:"模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#模块"}},[t._v("#")]),t._v(" 模块")]),t._v(" "),a("p",[t._v("模块模式的2个必要条件：")]),t._v(" "),a("ol",[a("li",[t._v("必须有外部封闭函数，该函数至少调用一次。")]),t._v(" "),a("li",[t._v("封闭函数必须返回至少一个内部函数。这样内部函数才能在私有作用域中形成闭包，并且可以访问或修改私有的状态。")])]),t._v(" "),a("p",[t._v("参见单例模式")]),t._v(" "),a("h5",{attrs:{id:"现代模块机制"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#现代模块机制"}},[t._v("#")]),t._v(" 现代模块机制")]),t._v(" "),a("details",{staticClass:"custom-block details"},[a("summary",[t._v("简单实现")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" MyModules "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Manager")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" modules "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("define")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deps"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("impl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("deps"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  deps"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" modules"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("deps"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n modules"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("impl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apply")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("impl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deps"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" modules"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n define"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("define"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("get")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])]),t._v(" "),a("h5",{attrs:{id:"es6模块机制"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#es6模块机制"}},[t._v("#")]),t._v(" ES6模块机制")]),t._v(" "),a("p",[t._v("import/export")]),t._v(" "),a("blockquote",[a("p",[t._v("待完善")])]),t._v(" "),a("h2",{attrs:{id:"this和对象原型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#this和对象原型"}},[t._v("#")]),t._v(" this和对象原型")]),t._v(" "),a("h3",{attrs:{id:"第一章：关于this"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第一章：关于this"}},[t._v("#")]),t._v(" 第一章：关于this")]),t._v(" "),a("p",[a("img",{attrs:{src:"/youdonnotknowaboutjs/06.png",alt:"关于this"}})]),t._v(" "),a("h3",{attrs:{id:"第二章：this全面解析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第二章：this全面解析"}},[t._v("#")]),t._v(" 第二章：this全面解析")]),t._v(" "),a("p",[a("img",{attrs:{src:"/youdonnotknowaboutjs/07.png",alt:"this全面解析"}})]),t._v(" "),a("h3",{attrs:{id:"第三章：对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第三章：对象"}},[t._v("#")]),t._v(" 第三章：对象")]),t._v(" "),a("h3",{attrs:{id:"第四章：混入对象-类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第四章：混入对象-类"}},[t._v("#")]),t._v(" 第四章：混入对象“类”")]),t._v(" "),a("h3",{attrs:{id:"第五章：原型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第五章：原型"}},[t._v("#")]),t._v(" 第五章：原型")]),t._v(" "),a("h3",{attrs:{id:"第六章：行为委托"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第六章：行为委托"}},[t._v("#")]),t._v(" 第六章：行为委托")]),t._v(" "),a("h3",{attrs:{id:"附录：es6中的class"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#附录：es6中的class"}},[t._v("#")]),t._v(" 附录：ES6中的Class")])])}),[],!1,null,null,null);s.default=r.exports}}]);