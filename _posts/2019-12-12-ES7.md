---
title: ES7
date: 2019-12-12 16:48:26
categories:
- javascript
tags:
- ES7
---
ES7å­¦ä¹ çœŸçš„å¿«è½ï¼Œå› ä¸ºå°‘ã€‚

## Array.prototype.includes

`Array.prototype.includes`æ–¹æ³•å’Œ`Array.prototype.indexof`ç±»ä¼¼ï¼Œä½†è¿˜æœ‰ä¸åŒï¼š

- includes å¯ä»¥åˆ¤æ–­ NaN
- includes å¯ä»¥åˆ¤æ–­ undefined
- includes ä¸åŒºåˆ† +0 å’Œ -0

Array.prototype.includes åº•å±‚ä½¿ç”¨äº† SameValueZero() è¿›è¡Œæ¯”è¾ƒã€‚

ES2015 è‰æ¡ˆä¸­æœ‰å››ç§ç›¸ç­‰ç®—æ³•ï¼š

1. æŠ½è±¡æ ‡å‡†ç›¸ç­‰æ¯”è¾ƒï¼š â€œ==â€
2. ä¸¥æ ¼ç›¸ç­‰æ¯”è¾ƒï¼šâ€œ===â€
3. SameValueZero: æ²¡æœ‰ç›´æ¥æš´éœ²çš„æ¥å£ï¼Œå†…éƒ¨å®ç°æ¥å£æ˜¯ Map ä¸ Set
4. SameValue: å®ç°æ¥å£æ˜¯ Object.isï¼ŒåŒºåˆ† `+0` å’Œ `-0`

è¯¦ç»†å¯ä»¥æŸ¥çœ‹ğŸ‘‰ï¼š[javascriptä¸­çš„ç›¸ç­‰æ€§åˆ¤æ–­](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Equality_comparisons_and_sameness)

### å‰èº«

æ—©å‰çš„ Array.prototype.includes çš„ææ¡ˆåä¸º Array.prototype.containsï¼Œä½†ç”±äºæœ‰å¾ˆå¤šç½‘ç«™è‡ªè¡Œ hack äº† Array.prototype.containsã€‚

JavaScript çš„åŸç”Ÿæ–¹æ³•éƒ½æ˜¯ä¸å¯æšä¸¾çš„,è€Œ Hack éƒ½æ˜¯å¯æšä¸¾çš„,å¯ä»¥è¢« for...in è¯»å–, è¿™å°±å¯¼è‡´ä¸€äº›å·²ç”¨ hackçš„ç½‘ç«™å¯èƒ½ä¼šå‡ºç°é”™è¯¯ã€‚

### includesçš„è¯­ä¹‰

- includes() æ˜¯æ˜ç¡®çš„åˆ¤æ–­ "æ˜¯å¦åŒ…å«è¯¥é¡¹"ï¼Œè€Œ indexOf() æ˜¯ "æŸ¥æ‰¾æ•°ç»„ä¸­ç¬¬ä¸€æ¬¡å‡ºç°å¯¹åº”å…ƒç´ çš„ç´¢å¼•æ˜¯ä»€ä¹ˆï¼Œå†é’ˆå¯¹è¿”å›çš„ç´¢å¼•è¿›ä¸€æ­¥å¤„ç†é€»è¾‘"
- has æ˜¯ç”¨äº key çš„ï¼Œè€Œ includes æ˜¯æ£€æµ‹ value çš„

## æ±‚å¹‚è¿ç®—ç¬¦ï¼š**

å¦‚é¢˜ï¼Œæ±‚å¹‚ï¼Œæ˜¯ Math.pow() çš„ç®€å†™ã€‚
