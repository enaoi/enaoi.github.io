(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{395:function(t,a,s){"use strict";s.r(a);var n=s(25),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"事件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#事件"}},[t._v("#")]),t._v(" 事件")]),t._v(" "),s("h2",{attrs:{id:"事件流"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#事件流"}},[t._v("#")]),t._v(" 事件流")]),t._v(" "),s("p",[s("strong",[t._v("事件流")]),t._v("：从页面中接收事件的顺序。")]),t._v(" "),s("ol",[s("li",[s("p",[s("strong",[t._v("事件冒泡（event bubbling）")]),t._v("：事件开始时由最具体的元素（文档中嵌套层次最深的那个节点）接收，然后逐级向上传播到较为不具体的节点（文档）。")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("事件捕获（event capturing）")]),t._v(":不太具体的节点应该更早接收到事件，最具体的节点应该最后接收到事件。")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("事件流的三个阶段")]),t._v("：事件捕获阶段、处于目标阶段、事件冒泡阶段")])])]),t._v(" "),s("h2",{attrs:{id:"事件处理程序"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#事件处理程序"}},[t._v("#")]),t._v(" 事件处理程序")]),t._v(" "),s("h3",{attrs:{id:"html内联事件处理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#html内联事件处理"}},[t._v("#")]),t._v(" HTML内联事件处理")]),t._v(" "),s("p",[t._v("通过HTML元素的特性指定")]),t._v(" "),s("div",{staticClass:"language-html line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("button"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("click me"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("onlick")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("eventHandler"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[s("strong",[t._v("缺点")]),t._v("：")]),t._v(" "),s("ol",[s("li",[t._v("HTMl和JavaScript紧密耦合，不建议采用。")]),t._v(" "),s("li",[t._v("存在时差问题。用户在事件处理程序被解析之前就触发了程序。")]),t._v(" "),s("li",[t._v("扩展事件处理程序的作用域链在不同的浏览器中会导致不同结果。")])]),t._v(" "),s("h3",{attrs:{id:"dom0级事件处理程序"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dom0级事件处理程序"}},[t._v("#")]),t._v(" DOM0级事件处理程序")]),t._v(" "),s("p",[t._v("通过 JavaScript 指定事件处理程序的传统方式，就是将一个函数赋值给一个事件处理程序属性。属性通常全部小写，例如 onclick。")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" btn "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"myBtn"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 添加事件处理程序")]),t._v("\nbtn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onclick")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//删除事件处理程序")]),t._v("\nbtn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("onclick "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])]),s("p",[s("strong",[t._v("事件作用域")]),t._v("：元素的方法。因此，事件处理程序是在元素的作用域中运行；程序中的 this 引用当前元素。")]),t._v(" "),s("p",[s("strong",[t._v("缺点")]),t._v("：一个事件只能有一个事件处理程序。多个会被覆盖。")]),t._v(" "),s("h3",{attrs:{id:"dom2级事件处理机制"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dom2级事件处理机制"}},[t._v("#")]),t._v(" DOM2级事件处理机制")]),t._v(" "),s("p",[t._v("“DOM2 级事件” 定义了两个方法：")]),t._v(" "),s("p",[s("strong",[t._v("绑定事件：")]),s("code",[t._v("addEventListener()")]),t._v(" "),s("strong",[t._v("删除事件：")]),s("code",[t._v("removeEventListener()")])]),t._v(" "),s("p",[t._v("所有 DOM 节点中都包含这两个方法，接受3个参数:")]),t._v(" "),s("ol",[s("li",[t._v("要处理的事件名（不带on）")]),t._v(" "),s("li",[t._v("事件处理程序的函数")]),t._v(" "),s("li",[t._v("一个布尔值:\n"),s("ul",[s("li",[t._v("true:表示在捕获阶段调用事件处理")]),t._v(" "),s("li",[t._v("false:表示在冒泡阶段调用")])])])]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 为一个按钮添加了 onclick 事件处理程序，而且该事件会在冒泡阶段被触发")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" btn "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"myBtn"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 这个匿名函数处理事件，无法被移除，只能是定义的 eventHadnler")]),t._v("\nbtn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"click"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br")])]),s("ul",[s("li",[s("strong",[t._v("事件作用域")]),t._v("：添加的事件处理程序也是在其依附的元素的作用域中运行。")]),t._v(" "),s("li",[s("strong",[t._v("优点")]),t._v("：可以添加多个事件处理程序，按照添加它们的顺序触发。")])]),t._v(" "),s("p",[t._v("大多数情况下，采用事件流的冒泡阶段，这样可以最大限度地兼容各种浏览器。")]),t._v(" "),s("h3",{attrs:{id:"ie事件处理程序"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ie事件处理程序"}},[t._v("#")]),t._v(" IE事件处理程序")]),t._v(" "),s("p",[t._v("IE 实现了与 DOM 中类似的两个方法："),s("code",[t._v("attachEvent()")]),t._v("、"),s("code",[t._v("detachEvent()")])]),t._v(" "),s("p",[t._v("IE8以及更低版本中需要用到他们。与 "),s("code",[t._v("addEventListener")]),t._v("不同的是，事件名包含前缀 "),s("code",[t._v("on")]),t._v("。")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("  element"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("attachEvent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'onlick'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("eventHanlder"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[s("strong",[t._v("注意：")])]),t._v(" "),s("ol",[s("li",[s("code",[t._v("attachEvent")]),t._v(" 事件处理程序会在全局作用域中运行，因此 "),s("code",[t._v("this === window")]),t._v("。")]),t._v(" "),s("li",[t._v("可以添加多个事件处理程序，但事件执行顺序和添加顺序相反！")]),t._v(" "),s("li",[t._v("同样匿名函数不可以被移除。")])]),t._v(" "),s("h3",{attrs:{id:"跨浏览器的事件处理程序"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#跨浏览器的事件处理程序"}},[t._v("#")]),t._v(" 跨浏览器的事件处理程序")]),t._v(" "),s("p",[t._v("兼容各大浏览器差异的事件处理方法包括addHandler()和removeHandler()，都属于EvenUtil对象，接收相同的参数：要操作的元素、事件名称、事件处理程序函数。")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" EventUtil "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("addHandler")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("element"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("handler")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("element"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("addEventListener"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//DOM2级处理")]),t._v("\n                    element"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("handler"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("element"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("attachEvent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//IE8以下方法")]),t._v("\n                    element"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("attachEvent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"on"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("handler"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// DOM0方法，一般不会走到这里")]),t._v("\n                    element"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"on"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("handler"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("removeHandler")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("element"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("handler")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("element"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("removeEventListener"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    element"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("handler"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("element"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("detachEvent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    element"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("detachEvent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"on"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("handler"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    element"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"on"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br")])]),s("p",[t._v("使用方法如下：")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" btn "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'myBtn'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("handler")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n           console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        EventUtil"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addHandler")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("btn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'click'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("handler"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        EventUtil"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeHandler")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("btn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'click'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("handler"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("h2",{attrs:{id:"事件对象"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#事件对象"}},[t._v("#")]),t._v(" 事件对象")]),t._v(" "),s("p",[t._v("触发DOM事件，会产生一个event对象。这个对象里包含了所有与事件有关的信息。该事件对象的常用接口和属性如下：")]),t._v(" "),s("ol",[s("li",[s("code",[t._v("cancelable")]),t._v("/"),s("code",[t._v("preventDefault()")]),t._v("\ncancelable 为 true 时，可以通过 preventDefault() 取消其默认行为。")]),t._v(" "),s("li",[s("code",[t._v("bubbles")]),t._v("/"),s("code",[t._v("stopPropagation()")]),t._v("\nbubbles 为true 时可以取消事件的进一步捕获和冒泡。同时阻止任何事件被调用。DOM3事件新增。")]),t._v(" "),s("li",[s("code",[t._v("type")]),t._v("\n多个事件使用同一个handler时可以通过type来区别。")]),t._v(" "),s("li",[s("code",[t._v("target")]),t._v("\n事件的目标DOM。")]),t._v(" "),s("li",[t._v("位置信息\n"),s("ul",[s("li",[t._v("客户端位置: clientX,clientY。")]),t._v(" "),s("li",[t._v("页面位置：pageX,pageY。页面会有滚动。")]),t._v(" "),s("li",[t._v("屏幕位置：screenX,screenY。 浏览器会缩放。全屏下和client的差距在浏览器导航和所有部分的高度差。")])])]),t._v(" "),s("li",[s("code",[t._v("relatedTarget")]),t._v(" "),s("ul",[s("li",[t._v("mouse事件中，比如 mouseover 中的主目标是移入的元素。离开的元素就是 relatedTaget。")])])]),t._v(" "),s("li",[s("code",[t._v("button")]),t._v(" "),s("ul",[s("li",[t._v("mousedown 事件中，button的数字代表了是否是鼠标按钮，以及具体哪个鼠标按钮或组合触发的")])])])]),t._v(" "),s("h3",{attrs:{id:"ie中的事件对象"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ie中的事件对象"}},[t._v("#")]),t._v(" IE中的事件对象")]),t._v(" "),s("p",[t._v("IE中的事件对象有些不同。")]),t._v(" "),s("ul",[s("li",[t._v("低版本IE中，事件 handler 内使用 "),s("code",[t._v("window.event")]),t._v(" 来获取 event 对象。")]),t._v(" "),s("li",[s("code",[t._v("returnValue")]),t._v("：设置为false，就等同于 "),s("code",[t._v("preventDefault()")])]),t._v(" "),s("li",[s("code",[t._v("cancelBubble")]),t._v("：设置为false，就等同于 "),s("code",[t._v("stopPropagation()")])]),t._v(" "),s("li",[s("code",[t._v("srcElement")]),t._v("：同于 "),s("code",[t._v("target")])])]),t._v(" "),s("h2",{attrs:{id:"事件类型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#事件类型"}},[t._v("#")]),t._v(" 事件类型")]),t._v(" "),s("h3",{attrs:{id:"ui事件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ui事件"}},[t._v("#")]),t._v(" UI事件")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("load")]),t._v(" "),s("ul",[s("li",[t._v("页面加载完毕后 window 上触发")]),t._v(" "),s("li",[t._v("图片加载完毕后 "),s("code",[t._v("<img>")]),t._v(" 元素上触发")]),t._v(" "),s("li",[t._v("嵌入内容加载完毕后 "),s("code",[t._v("<object>")]),t._v(" 上触发")])])]),t._v(" "),s("li",[s("p",[t._v("unload")]),t._v(" "),s("ul",[s("li",[t._v("页面卸载后 window 上触发")]),t._v(" "),s("li",[t._v("利用该事件清除事件引用，以免内存泄漏。\n"),s("strong",[t._v("unload阶段文档会处于一个特定状态：")]),t._v(" "),s("ol",[s("li",[t._v("所有资源仍存在 (图片, iframe 等.)")]),t._v(" "),s("li",[t._v("对于终端用户所有资源均不可见")]),t._v(" "),s("li",[t._v("界面交互无效 (window.open, alert, confirm 等)")]),t._v(" "),s("li",[t._v("错误不会停止卸载文档的过程")]),t._v(" "),s("li",[t._v("如果发送异步请求，页面 "),s("code",[t._v("unload")]),t._v(" 会导致异步请求触发 "),s("code",[t._v("abort")]),t._v("事件。")]),t._v(" "),s("li",[t._v("发送同步请求，虽然有效，但用户需要等待请求结束才可以关闭页面，用户体验不好。")])])])]),t._v(" "),s("p",[s("em",[s("strong",[t._v("请注意:")])]),t._v(" "),s("u",[t._v("unload事件也遵循文档树:父iframe会在子iframe卸载前卸载.")])])]),t._v(" "),s("li",[s("p",[t._v("abort")])]),t._v(" "),s("li",[s("p",[t._v("error")]),t._v(" "),s("ul",[s("li",[t._v("页面加载错误时 window 上触发")]),t._v(" "),s("li",[t._v("无法加载图片时 "),s("code",[t._v("<img>")]),t._v(" 上触发")]),t._v(" "),s("li",[t._v("无法加载嵌入内容时 "),s("code",[t._v("<object>")]),t._v(" 上触发")])])]),t._v(" "),s("li",[s("p",[t._v("select")])]),t._v(" "),s("li",[s("p",[t._v("resize")])]),t._v(" "),s("li",[s("p",[t._v("scroll")])]),t._v(" "),s("li",[s("p",[t._v("visibilitychange\n标签页被隐藏或显示的时候会触发。\n"),s("code",[t._v("document.visibilityState")]),t._v("属性可以返回当前标签页是显示还是隐藏。")])])]),t._v(" "),s("h3",{attrs:{id:"焦点事件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#焦点事件"}},[t._v("#")]),t._v(" 焦点事件")]),t._v(" "),s("ol",[s("li",[t._v("blur")]),t._v(" "),s("li",[t._v("focus")]),t._v(" "),s("li",[t._v("focusin：和focus等价，但支持冒泡")]),t._v(" "),s("li",[t._v("focusout: 和blur等价，但支持冒泡")])]),t._v(" "),s("h3",{attrs:{id:"鼠标事件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#鼠标事件"}},[t._v("#")]),t._v(" 鼠标事件")]),t._v(" "),s("ol",[s("li",[t._v("click")]),t._v(" "),s("li",[t._v("dbclick")]),t._v(" "),s("li",[t._v("mousedown")]),t._v(" "),s("li",[t._v("mouseenter/mouseleave\n外部进入/移出范围内。范围内的所有子元素的进入/移出不会再触发。")]),t._v(" "),s("li",[t._v("mousemove: 元素内部移动，多次触发。")]),t._v(" "),s("li",[t._v("mouseover/mouseout\n外部进入/移出边界,元素内部子元素的进入和移出会再次触发。")]),t._v(" "),s("li",[t._v("mouseup")])]),t._v(" "),s("h3",{attrs:{id:"滚轮事件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#滚轮事件"}},[t._v("#")]),t._v(" 滚轮事件")]),t._v(" "),s("ol",[s("li",[t._v("mousewheel\n"),s("ul",[s("li",[t._v("wheelData: 120的倍数。向上为+120，向下为-120.")]),t._v(" "),s("li",[t._v("detail： firefox中支持detail属性，显示滚动的值和方向。向上为-3，向下为+3；")])])])]),t._v(" "),s("h3",{attrs:{id:"文本事件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#文本事件"}},[t._v("#")]),t._v(" 文本事件")]),t._v(" "),s("ol",[s("li",[t._v("textInput\n"),s("ul",[s("li",[t._v("可编辑区域才能触发该事件。")]),t._v(" "),s("li",[t._v("输入的数据可以通过 "),s("code",[t._v("data")]),t._v(" 属性获取。")]),t._v(" "),s("li",[s("code",[t._v("inputMethod")]),t._v(" 文本输入的方式。键盘输入、粘贴、拖拽等。")])])])]),t._v(" "),s("h3",{attrs:{id:"键盘事件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#键盘事件"}},[t._v("#")]),t._v(" 键盘事件")]),t._v(" "),s("ol",[s("li",[t._v("keydown")]),t._v(" "),s("li",[t._v("keypress")]),t._v(" "),s("li",[t._v("keyup")])]),t._v(" "),s("p",[t._v("文本框输入事件的 event 对象中包含 "),s("code",[t._v("keyCode")]),t._v(" 信息。显示事件触发的具体键。但IE和Safari返回的是键码。firefox和Opera中返回是的ASCII码。")]),t._v(" "),s("p",[t._v("跨浏览器可以使用 "),s("code",[t._v("charCode")]),t._v(" 属性获取键盘字符对应的ASCII码。配合 "),s("code",[t._v("String.fromCharCode()")]),t._v(" 转化为实际字符。")]),t._v(" "),s("h3",{attrs:{id:"复合事件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#复合事件"}},[t._v("#")]),t._v(" 复合事件")]),t._v(" "),s("p",[t._v("输入编辑器打字过程中，通过拉丁字母输入，得到最终文字的过程。")]),t._v(" "),s("ol",[s("li",[t._v("compositionstart")]),t._v(" "),s("li",[t._v("compositionupdate")]),t._v(" "),s("li",[t._v("compositionend")])]),t._v(" "),s("p",[t._v("vue 中 "),s("code",[t._v("v-model")]),t._v(" 监控 input 输入变化，打字输入中文的过程可能不需要显示字母输入的变化。此时就可以监听是否是composition事件触发过程中来避免不必要的渲染更新。")]),t._v(" "),s("h3",{attrs:{id:"变动事件：dom发生变化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#变动事件：dom发生变化"}},[t._v("#")]),t._v(" 变动事件：DOM发生变化")]),t._v(" "),s("ol",[s("li",[t._v("DOMNodeRemoved")]),t._v(" "),s("li",[t._v("DOMNodeInserted")]),t._v(" "),s("li",[t._v("DOMSubtreeModified")])]),t._v(" "),s("h3",{attrs:{id:"html5事件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#html5事件"}},[t._v("#")]),t._v(" HTML5事件")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("contextmenu：右键菜单事件")])]),t._v(" "),s("li",[s("p",[t._v("beforeunload\n如果处理函数将Event对象的returnValue属性赋值非空字符串，浏览器会弹出一个对话框，来询问用户是否确定要离开当前页面。")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("window"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'beforeunload'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'window，document 及其资源即将被卸载。'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Cancel the event as stated by the standard.")]),t._v("\n    event"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("preventDefault")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Chrome requires returnValue to be set.")]),t._v("\n    event"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("returnValue "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])])]),t._v(" "),s("li",[s("p",[t._v("DOMContentLoaded")]),t._v(" "),s("ul",[s("li",[t._v("dom解析完成后就触发。")]),t._v(" "),s("li",[t._v("load 需要等到所有资源加载完成后再触发。")])])]),t._v(" "),s("li",[s("p",[t._v("readystatechange\n文档加载过程中各个阶段的记录。包含几个过程")]),t._v(" "),s("ul",[s("li",[t._v("uninttialized")]),t._v(" "),s("li",[t._v("loading")]),t._v(" "),s("li",[t._v("loaded")]),t._v(" "),s("li",[t._v("interactive")]),t._v(" "),s("li",[t._v("complete")])])]),t._v(" "),s("li",[s("p",[t._v("pageshow/pagehide：(这包括了后退/前进按钮操作，同时也会在onload 事件触发后初始化页面时触发)")]),t._v(" "),s("ul",[s("li",[t._v("重新加载的页面。pageshow在load后触发。")]),t._v(" "),s("li",[t._v("缓存的页面，只触发pageshow")]),t._v(" "),s("li",[t._v("这两个事件的对象是document。但必须添加到window")]),t._v(" "),s("li",[t._v("event对象中的 "),s("code",[t._v("persisted")]),t._v(" 属性判断是否保存在bfcache中。\n⚠️注意和 "),s("code",[t._v("visibilitychange")]),t._v(" 区分。")])])]),t._v(" "),s("li",[s("p",[t._v("hashchange\n网站浏览器 url 的hash值发生变化,相关的参数：")]),t._v(" "),s("ul",[s("li",[t._v("oldURL")]),t._v(" "),s("li",[t._v("newURL")]),t._v(" "),s("li",[t._v("location.hash")])])])]),t._v(" "),s("h3",{attrs:{id:"设备事件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#设备事件"}},[t._v("#")]),t._v(" 设备事件")]),t._v(" "),s("ol",[s("li",[t._v("orientationchange\n"),s("ul",[s("li",[t._v("window.orientation")])])]),t._v(" "),s("li",[t._v("deviceorientation\n"),s("ul",[s("li",[t._v("alpha: 围绕z轴旋转角度")]),t._v(" "),s("li",[t._v("beta: 围绕x轴旋转角度")]),t._v(" "),s("li",[t._v("gamma: 围绕y轴旋转角度")]),t._v(" "),s("li",[t._v("absolute: 设备是否返回绝对值")]),t._v(" "),s("li",[t._v("compassCalibrated: 设备的指南针是否校准")])])]),t._v(" "),s("li",[t._v("devicemotion:设备的移动")])]),t._v(" "),s("h3",{attrs:{id:"触摸事件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#触摸事件"}},[t._v("#")]),t._v(" 触摸事件")]),t._v(" "),s("ol",[s("li",[t._v("touchstart")]),t._v(" "),s("li",[t._v("touchmove")]),t._v(" "),s("li",[t._v("touchend")]),t._v(" "),s("li",[t._v("touchcancel")])]),t._v(" "),s("p",[t._v("触摸事件的属性：")]),t._v(" "),s("ul",[s("li",[t._v("event.touches: touch对象的数组")]),t._v(" "),s("li",[t._v("event.touchTouchs")]),t._v(" "),s("li",[t._v("event.changeTouches")])]),t._v(" "),s("h3",{attrs:{id:"手势事件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#手势事件"}},[t._v("#")]),t._v(" 手势事件")]),t._v(" "),s("ol",[s("li",[t._v("gesturestart: 一个手指已经按在屏幕上，另一个手指又触摸屏幕时触发")]),t._v(" "),s("li",[t._v("gesturechange: 屏幕上任何一个手指移动")]),t._v(" "),s("li",[t._v("gestureend: 任何一个手指从屏幕上移动")])]),t._v(" "),s("h2",{attrs:{id:"内存和性能优化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#内存和性能优化"}},[t._v("#")]),t._v(" 内存和性能优化")]),t._v(" "),s("p",[s("strong",[t._v("事件委托")]),t._v("：在DOM层级更高里监听一个类型事件，将底层多个监听事件合并为一个，占用内存更少。")]),t._v(" "),s("p",[s("strong",[t._v("移除事件处理程序")]),t._v("：删除DOM结构前，应该先将绑定的事件删除。否则垃圾回收机制可能不能正确将空元素事件引用删除。")]),t._v(" "),s("h2",{attrs:{id:"模拟事件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#模拟事件"}},[t._v("#")]),t._v(" 模拟事件")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("DOM中的事件拟用")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("document.createEvent(eventname)")]),t._v(" 创建事件对象")]),t._v(" "),s("li",[s("code",[t._v("event.initMouseEvent(...)")]),t._v(" 初始化事件对象")]),t._v(" "),s("li",[s("code",[t._v("$dom.dispatchEvent(event)")]),t._v(" 触发事件")])])]),t._v(" "),s("li",[s("p",[t._v("键盘拟用")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("initKeyEvent()")])])])]),t._v(" "),s("li",[s("p",[t._v("其它")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("initMutationEvent()")])])])]),t._v(" "),s("li",[s("p",[t._v("自定义事件")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("initCustomEvent(type, bubbles, cancelable, detail)")])])])]),t._v(" "),s("li",[s("p",[t._v("IE 中的事件模拟")]),t._v(" "),s("ul",[s("li",[t._v("在IE中创建事件："),s("code",[t._v("document.createEventObject()")])]),t._v(" "),s("li",[t._v("触发事件："),s("code",[t._v("$dom.fireEvent(type, event)")])])])])])])}),[],!1,null,null,null);a.default=e.exports}}]);